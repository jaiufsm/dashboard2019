(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{JLuJ:function(l,n,a){"use strict";a.r(n);var t=a("8Y7J");class u{}var i=a("pMnS"),o=a("oBZk"),r=a("ZZ/e"),e=a("RGvM"),s=a("TX0D"),h=a("HlEa"),b=a("SVse"),c=a("mrSG"),d=a("dKRk"),p=a("gZPr");class g{constructor(l,n){this.apiJai=l,this.loadingController=n,this.loading=null}ngOnInit(){this.loadCharts()}presentLoading(){return c.b(this,void 0,void 0,(function*(){this.loading=yield this.loadingController.create({message:"Carregando..."}),yield this.loading.present()}))}loadCharts(){this.presentLoading(),this.graficos=[];const l=[];l.push(this.apiJai.getTrabalhos()),l.push(this.apiJai.getAvaliacoes()),l.push(this.apiJai.getCheck()),Promise.all(l).then(l=>{this.trabalhos=l[0],this.avaliacoes=l[1],this.checks=l[2];const n=p.a.getDays();for(const t of n){const l=this.checks.filter(l=>l.data===t),n=this.trabalhos.filter(l=>l.dia===t),a={trabalhos:{title:t,chart:this.estadoTrabalhoChart(n,l,this.avaliacoes)},avaliadores:{title:t,chart:this.checkChart(n,l,this.avaliacoes)}};console.log(a),this.graficos.push(a)}const a={trabalhos:{title:"Geral",chart:this.estadoTrabalhoChart(this.trabalhos,this.checks,this.avaliacoes)},avaliadores:{title:"Geral",chart:this.checkChart(this.trabalhos,this.checks,this.avaliacoes)}};this.graficos.push(a),this.loading&&this.loading.dismiss()})}estadoTrabalhoChart(l,n,a){let t=0,u=0,i=0;return l.map(l=>{a.findIndex(n=>n.id===l.idTrabalho)>-1?t+=1:n.findIndex(n=>n.idAvaliador===l.idAvaliador)>-1?i+=1:u+=1}),{chartType:"PieChart",dataTable:[["Estado","Trabalhos"],["Avaliado",t],["N\xe3o Avaliado",u],["Em Andamento",i]],options:{width:380,colors:["#32CD32","#FF0000","#FFA500"]}}}checkChart(l,n,a){const t=l.map(l=>l.idAvaliador).filter((l,n,a)=>a.indexOf(l)===n).length,u=n.map(l=>l.idAvaliador).filter((l,n,a)=>a.indexOf(l)===n).length,i=n.filter(l=>"in-sub"===l.tipo).map(l=>l.idAvaliador).filter((l,n,a)=>a.indexOf(l)===n).length;return{chartType:"PieChart",dataTable:[["Check-in","Avaliadores"],["Efetuado",u-i],["Efetuado - Substituto",i],["N\xe3o Efetuado",t-u]],options:{width:380,colors:["#32CD32","#033DFC","#FF0000"]}}}}var f=t.ob({encapsulation:0,styles:[[".welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}"]],data:{}});function k(l){return t.Fb(0,[(l()(),t.qb(0,0,null,null,27,"ion-row",[],null,null,null,o.C,o.l)),t.pb(1,49152,null,0,r.gb,[t.h,t.k,t.x],null,null),(l()(),t.qb(2,0,null,0,12,"ion-col",[],null,null,null,o.w,o.f)),t.pb(3,49152,null,0,r.q,[t.h,t.k,t.x],null,null),(l()(),t.qb(4,0,null,0,10,"ion-card",[],null,null,null,o.v,o.b)),t.pb(5,49152,null,0,r.j,[t.h,t.k,t.x],null,null),(l()(),t.qb(6,0,null,0,4,"ion-card-header",[],null,null,null,o.t,o.d)),t.pb(7,49152,null,0,r.l,[t.h,t.k,t.x],null,null),(l()(),t.qb(8,0,null,0,2,"ion-card-title",[],null,null,null,o.u,o.e)),t.pb(9,49152,null,0,r.n,[t.h,t.k,t.x],null,null),(l()(),t.Eb(10,0,["Trabalhos Avaliados - ",""])),(l()(),t.qb(11,0,null,0,3,"ion-card-content",[],null,null,null,o.s,o.c)),t.pb(12,49152,null,0,r.k,[t.h,t.k,t.x],null,null),(l()(),t.qb(13,0,null,0,1,"google-chart",[],null,null,null,e.b,e.a)),t.pb(14,573440,null,0,s.a,[t.k,h.a],{data:[0,"data"]},null),(l()(),t.qb(15,0,null,0,12,"ion-col",[],null,null,null,o.w,o.f)),t.pb(16,49152,null,0,r.q,[t.h,t.k,t.x],null,null),(l()(),t.qb(17,0,null,0,10,"ion-card",[],null,null,null,o.v,o.b)),t.pb(18,49152,null,0,r.j,[t.h,t.k,t.x],null,null),(l()(),t.qb(19,0,null,0,4,"ion-card-header",[],null,null,null,o.t,o.d)),t.pb(20,49152,null,0,r.l,[t.h,t.k,t.x],null,null),(l()(),t.qb(21,0,null,0,2,"ion-card-title",[],null,null,null,o.u,o.e)),t.pb(22,49152,null,0,r.n,[t.h,t.k,t.x],null,null),(l()(),t.Eb(23,0,["Check-in Avaliadores - ",""])),(l()(),t.qb(24,0,null,0,3,"ion-card-content",[],null,null,null,o.s,o.c)),t.pb(25,49152,null,0,r.k,[t.h,t.k,t.x],null,null),(l()(),t.qb(26,0,null,0,1,"google-chart",[],null,null,null,e.b,e.a)),t.pb(27,573440,null,0,s.a,[t.k,h.a],{data:[0,"data"]},null)],(function(l,n){l(n,14,0,n.context.$implicit.trabalhos.chart),l(n,27,0,n.context.$implicit.avaliadores.chart)}),(function(l,n){l(n,10,0,n.context.$implicit.trabalhos.title),l(n,23,0,n.context.$implicit.avaliadores.title)}))}function v(l){return t.Fb(0,[(l()(),t.qb(0,0,null,null,6,"ion-header",[],null,null,null,o.z,o.i)),t.pb(1,49152,null,0,r.y,[t.h,t.k,t.x],null,null),(l()(),t.qb(2,0,null,0,4,"ion-toolbar",[["color","primary"]],null,null,null,o.H,o.q)),t.pb(3,49152,null,0,r.zb,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(4,0,null,0,2,"ion-title",[],null,null,null,o.G,o.p)),t.pb(5,49152,null,0,r.xb,[t.h,t.k,t.x],null,null),(l()(),t.Eb(-1,0,[" Gr\xe1ficos "])),(l()(),t.qb(7,0,null,null,5,"ion-content",[],null,null,null,o.x,o.g)),t.pb(8,49152,null,0,r.r,[t.h,t.k,t.x],null,null),(l()(),t.qb(9,0,null,0,3,"ion-grid",[],null,null,null,o.y,o.h)),t.pb(10,49152,null,0,r.x,[t.h,t.k,t.x],null,null),(l()(),t.fb(16777216,null,0,1,null,k)),t.pb(12,278528,null,0,b.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var a=n.component;l(n,3,0,"primary"),l(n,12,0,a.graficos)}),null)}function x(l){return t.Fb(0,[(l()(),t.qb(0,0,null,null,1,"app-tab1",[],null,null,null,v,f)),t.pb(1,114688,null,0,g,[d.a,r.Db],null,null)],(function(l,n){l(n,1,0)}),null)}var m=t.mb("app-tab1",g,x,{},{},[]),q=a("s7LF"),C=a("LtGu"),z=a("iInd");a.d(n,"Tab1PageModuleNgFactory",(function(){return A}));var A=t.nb(u,[],(function(l){return t.yb([t.zb(512,t.j,t.Y,[[8,[i.a,m]],[3,t.j],t.v]),t.zb(4608,b.j,b.i,[t.s,[2,b.p]]),t.zb(4608,r.a,r.a,[t.x,t.g]),t.zb(4608,r.Eb,r.Eb,[r.a,t.j,t.p]),t.zb(4608,r.Hb,r.Hb,[r.a,t.j,t.p]),t.zb(4608,q.c,q.c,[]),t.zb(4608,h.a,h.a,[t.s,[2,"googleChartsVersion"],[2,"mapsApiKey"]]),t.zb(1073742336,b.b,b.b,[]),t.zb(1073742336,r.Bb,r.Bb,[]),t.zb(1073742336,q.b,q.b,[]),t.zb(1073742336,q.a,q.a,[]),t.zb(1073742336,C.a,C.a,[]),t.zb(1073742336,z.n,z.n,[[2,z.s],[2,z.m]]),t.zb(1073742336,u,u,[]),t.zb(1024,z.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);